<!DOCTYPE html>
<html>

<head>
    <title>Fight page</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <style type="text/css">
        #main-content {
            width: 60%;
            height: 400px;
            border: 1px solid black;
            margin: auto;
            margin-top: 200px;
        }

        .player {
            position: fixed;
            top: 50px;
            width: 200px;
        }

        #player-one {
            left: 20px;
        }

        #player-two {
            right: 20px;
            text-align: end
        }
    </style>
</head>

<body>
    <div id="player-one" class="player">
        <p>Player one</p>
        <div class="progress">
            <div class="progress-bar bg-success" id="life-player-one" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0"
                aria-valuemax="100">100</div>
        </div>
    </div>
    <div id="player-two" class="player">
        <p>Player two</p>
        <div class="progress">
            <div class="progress-bar bg-success" id="life-player-two" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0"
                aria-valuemax="100">100</div>
        </div>
    </div>
    <div id="main-content">
        <!-- TÃªte -->
        <svg width="100" height="100">
            <circle cx="50" cy="50" r="40" stroke="black" stroke-width="4" fill="back" />
        </svg>
        <svg height="210" width="500">
            <line x1="0" y1="0" x2="200" y2="200" style="stroke:rgb(255,0,0);stroke-width:2" />
        </svg>
    </div>
    <button onclick="decreaseLifeBar(1, 10)">decrease</button>
    <script type="text/javascript">
        function decreaseLifeBar(player, healthPointToRemove) {
            var player;
            if (player === 1) {
                player = $('#life-player-one');
            } else {
                player = $('#life-player-two');
            }
            var currentValue = parseInt(player.attr('aria-valuenow'));
            var finalPoint = currentValue - healthPointToRemove;
            player.attr("aria-valuenow", finalPoint);
            player.css('width', finalPoint + '%');
            player.text(finalPoint)
            if (finalPoint <= 70 && finalPoint > 50) {
                player.removeClass().addClass("progress-bar bg-info");
            } else if (finalPoint > 20 && finalPoint <= 50) {
                player.removeClass().addClass("progress-bar bg-warning");
            } else if (finalPoint <= 20) {
                player.removeClass().addClass("progress-bar bg-danger");
            } else {
                console.log('encore bcp trop de vie')
            }
        }
    </script>
</body>

</html>